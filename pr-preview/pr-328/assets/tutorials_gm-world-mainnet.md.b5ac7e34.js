import{_ as a,o as e,c as s,X as n}from"./chunks/framework.c4354600.js";const y=JSON.parse('{"title":"GM world rollup: Part 3","description":"","frontmatter":{"head":[["meta",{"name":"og:title","content":"GM world rollup: Part 3 | Rollkit"},{"name":"og:description","content":false}]]},"headers":[],"relativePath":"tutorials/gm-world-mainnet.md","filePath":"tutorials/gm-world-mainnet.md","lastUpdated":1710788977000}'),t={name:"tutorials/gm-world-mainnet.md"},o=n(`<h1 id="gm-world-rollup-part-3" tabindex="-1">GM world rollup: Part 3 <a class="header-anchor" href="#gm-world-rollup-part-3" aria-label="Permalink to &quot;GM world rollup: Part 3&quot;">â€‹</a></h1><p>This tutorial is part 3 of the GM world rollup tutorials. In this tutorial, it is expected that you&#39;ve completed <a href="./gm-world">part 1</a> and <a href="./gm-world-testnet">part 2</a> of the tutorial and are familiar with running a local rollup devnet and posting to a Celestia testnet.</p><h2 id="deploying-to-celestia-mainnet-beta" tabindex="-1">Deploying to Celestia Mainnet Beta <a class="header-anchor" href="#deploying-to-celestia-mainnet-beta" aria-label="Permalink to &quot;Deploying to Celestia Mainnet Beta&quot;">â€‹</a></h2><h3 id="run-celestia-node" tabindex="-1">ðŸª¶Â Run a Celestia light node <a class="header-anchor" href="#run-celestia-node" aria-label="Permalink to &quot;ðŸª¶Â Run a Celestia light node {#run-celestia-node}&quot;">â€‹</a></h3><ol><li><p>Fully sync and fund a light node on Arabica devnet (<code>arabica-11</code>). Follow instructions to install and start your Celestia data availability layer light node selecting the Arabica network. You can <a href="https://docs.celestia.org/nodes/light-node" target="_blank" rel="noreferrer">find instructions to install and run the node</a>. After the node is synced, stop the light node.</p></li><li><p>Use <a href="https://github.com/rollkit/celestia-da" target="_blank" rel="noreferrer"><code>celestia-da</code></a> to connect to Rollkit. Your node does not need to be running when you start <code>celestia-da</code>.</p><p>Run this command to start celestia-da and your Celestia light node with state access (using the <code>--core.ip string</code> flag). This time, on <code>celestia</code>, which is the chain ID for Mainnet Beta:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-d</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-e </span><span style="color:#C3E88D;">NODE_TYPE=light</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-e </span><span style="color:#C3E88D;">P2P_NETWORK=celestia</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-p </span><span style="color:#F78C6C;">26650</span><span style="color:#C3E88D;">:26650</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-p </span><span style="color:#F78C6C;">26658</span><span style="color:#C3E88D;">:26658</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-p </span><span style="color:#F78C6C;">26659</span><span style="color:#C3E88D;">:26659</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">-v $HOME</span><span style="color:#C3E88D;">/.celestia-light/:/home/celestia/.celestia-light/</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">ghcr.io/rollkit/celestia-da:v0.12.10 \\</span></span>
<span class="line"><span style="color:#A6ACCD;">celestia-da </span><span style="color:#C3E88D;">light</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--p2p.network=celestia \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--da.grpc.namespace=000000676d776f726c64 \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--da.grpc.listen=0.0.0.0:26650 \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--core.ip </span><span style="color:#C3E88D;">rpc.celestia.pops.one</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--gateway</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>You can either use the default <code>000000474d776f726c64</code>, &quot;GMworld&quot; in plaintext, namespace above, or set your own by using a command similar to this (or, you could get creative ðŸ˜Ž):</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">openssl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rand</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-hex</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10</span></span></code></pre></div><p><a href="https://celestiaorg.github.io/celestia-app/specs/namespace.html" target="_blank" rel="noreferrer">Learn more about namespaces</a></p></div></li></ol><p>After you have Go and Ignite CLI installed, and <code>celestia-da</code> running on your machine, you&#39;re ready to run your own sovereign rollup.</p><h3 id="clear-previous-chain-history" tabindex="-1">Clear previous chain history <a class="header-anchor" href="#clear-previous-chain-history" aria-label="Permalink to &quot;Clear previous chain history&quot;">â€‹</a></h3><p>Before starting the rollup, we need to remove the old project folders:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/go/bin/gmd</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/.gm</span></span></code></pre></div><h3 id="start-the-rollup-on-mainnet" tabindex="-1">Start the rollup on mainnet <a class="header-anchor" href="#start-the-rollup-on-mainnet" aria-label="Permalink to &quot;Start the rollup on mainnet&quot;">â€‹</a></h3><p>For this portion, you will need to stop the rollup that you have running from parts 1 and 2 of the tutorial, using <code>Control + C</code> in the terminal.</p><ol><li><p>Download the script for deploying to Celestia&#39;s Mainnet Beta:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># From inside the \`gm\` directory</span></span>
<span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://raw.githubusercontent.com/rollkit/docs/main/scripts/gm/init-mainnet.sh</span></span></code></pre></div></li><li><p>Ensure that the account for your light node is funded.</p></li><li><p>Run the <code>init-mainnet.sh</code> script:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init-mainnet.sh</span></span></code></pre></div></li><li><p>Watch as your rollup posts blocks to Celestia!</p></li><li><p>View your rollup by <a href="https://celenium.io" target="_blank" rel="noreferrer">finding your namespace or account Celenium</a>.</p></li></ol><p><a href="https://celenium.io/namespace/000000000000000000000000000000000000000000676d776f726c64" target="_blank" rel="noreferrer">View the example rollup&#39;s namespace on Celenium</a>.</p><h4 id="restarting-your-rollup" tabindex="-1">Restarting your rollup <a class="header-anchor" href="#restarting-your-rollup" aria-label="Permalink to &quot;Restarting your rollup&quot;">â€‹</a></h4><p>When you ran <code>init-mainnet.sh</code>, the script generated a script called <code>restart-mainnet.sh</code> in the <code>$HOME/gm</code> directory for you to use to restart your rollup.</p><p>In order to do so, restart <code>celestia-da</code> and then run:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restart-mainnet.sh</span></span></code></pre></div><h2 id="next-steps" tabindex="-1">Next steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next steps&quot;">â€‹</a></h2><p>Congratulations! You have a Rollkit rollup running on Celestia&#39;s Mainnet Beta.</p><p>If you&#39;re interested in setting up a full node alongside your sequencer, see the <a href="./full-and-sequencer-node">Full and sequencer node rollup setup</a> tutorial.</p>`,20),l=[o];function r(p,i,c,d,h,u){return e(),s("div",null,l)}const g=a(t,[["render",r]]);export{y as __pageData,g as default};
