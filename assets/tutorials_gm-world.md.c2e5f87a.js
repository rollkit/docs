import{_ as s,o as a,c as n,X as o}from"./chunks/framework.4ab75e15.js";const l="/gm/gm.png",d=JSON.parse('{"title":"GM World rollup","description":"Build a sovereign rollup with Ignite CLI, Celestia and Rollkit locally and on a testnet","frontmatter":{"description":"Build a sovereign rollup with Ignite CLI, Celestia and Rollkit locally and on a testnet","head":[["meta",{"name":"og:title","content":"GM World rollup | Rollkit"},{"name":"og:description","content":false}]]},"headers":[],"relativePath":"tutorials/gm-world.md","filePath":"tutorials/gm-world.md","lastUpdated":1700146710000}'),e={name:"tutorials/gm-world.md"},p=o(`<h1 id="gm-world-rollup" tabindex="-1">GM World rollup <a class="header-anchor" href="#gm-world-rollup" aria-label="Permalink to &quot;GM World rollup&quot;">â€‹</a></h1><h2 id="introduction" tabindex="-1">â˜€ï¸ Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;â˜€ï¸ Introduction {#introduction}&quot;">â€‹</a></h2><p>In this tutorial, we will build a sovereign <code>gm-world</code> rollup using Rollkit and Celestiaâ€™s data availability and consensus layer to submit Rollkit blocks.</p><p>This tutorial will cover setting up Ignite CLI, building a Cosmos-SDK application-specific rollup blockchain, and posting data to Celestia. First, we will test on a local DA network and then we will deploy to a live testnet.</p><p>The <a href="https://github.com/cosmos/cosmos-sdk" target="_blank" rel="noreferrer">Cosmos SDK</a> is a framework for building blockchain applications. The Cosmos Ecosystem uses <a href="https://github.com/cosmos/ibc-go" target="_blank" rel="noreferrer">Inter-Blockchain Communication (IBC)</a> to allow blockchains to communicate with one another.</p><p>The development journey for your rollup will look something like this:</p><ol><li><a href="#part-one">Part one</a>: Run your rollup and post DA to a local devnet, and make sure everything works as expected</li><li><a href="#part-two">Part two</a>: Deploy the rollup, posting to a DA testnet. Confirm again that everything is functioning properly</li><li><a href="#part-three">Part three</a>: Deploy your rollup to the DA layer&#39;s mainnet</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>This tutorial will explore developing with Rollkit, which is still in Alpha stage. If you run into bugs, please write a Github <a href="https://github.com/rollkit/docs/issues/new" target="_blank" rel="noreferrer">Issue ticket</a> or let us know in our <a href="https://t.me/rollkit" target="_blank" rel="noreferrer">Telegram</a>.</p></div><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>The script for this tutorial is built for Celestia&#39;s <a href="https://docs.celestia.org/nodes/arabica-devnet" target="_blank" rel="noreferrer">Arabica devnet</a>.</p></div><h2 id="toc" tabindex="-1">ğŸ“‹ Table of contents for this tutorial <a class="header-anchor" href="#toc" aria-label="Permalink to &quot;ğŸ“‹ Table of contents for this tutorial {#toc}&quot;">â€‹</a></h2><p>The following tutorial is broken down into the following sections:</p><details class="details custom-block"><summary>Table of contents</summary><nav class="table-of-contents"><ul><li><a href="#introduction">â˜€ï¸ Introduction</a></li><li><a href="#toc">ğŸ“‹ Table of contents for this tutorial</a></li><li><a href="#what-is-gm">ğŸ¤” What is GM?</a></li><li><a href="#dependencies">Dependencies</a></li><li><a href="#linux-setup">Linux setup</a><ul><li><a href="#install-golang-linux">ğŸƒÂ Install Golang on Linux</a></li><li><a href="#install-ignite-cli-linux">ğŸ”¥Â Install Ignite CLI on Linux</a></li></ul></li><li><a href="#macos-setup">macOS setup</a><ul><li><a href="#install-golang-mac">ğŸƒÂ Install Golang on macOS</a></li><li><a href="#install-homebrew-mac">ğŸºÂ Install Homebrew on macOS</a></li><li><a href="#install-wget-mac">ğŸƒÂ Install wget on macOS</a></li></ul></li><li><a href="#part-one">Part one</a><ul><li><a href="#prerequisites">ğŸ’» Prerequisites</a></li><li><a href="#running-local-devnet-rollup">ğŸ  Running local devnet with a Rollkit rollup</a></li><li><a href="#query-your-balance">ğŸ” Query your balance</a></li><li><a href="#building-your-sovereign-rollup">ğŸ—ï¸ Building your sovereign rollup</a></li><li><a href="#install-rollkit">ğŸ—ï¸ Install Rollkit</a></li><li><a href="#start-your-rollup">â–¶ï¸ Start your rollup</a></li></ul></li><li><a href="#part-two">Part two</a><ul><li><a href="#run-celestia-node">ğŸª¶Â Run a Celestia light node</a></li><li><a href="#say-gm-world">ğŸ’¬Â Say gm world</a></li></ul></li><li><a href="#part-three">Part three</a></li><li><a href="#next-steps">Next steps</a></li></ul></nav></details><h2 id="what-is-gm" tabindex="-1">ğŸ¤” What is GM? <a class="header-anchor" href="#what-is-gm" aria-label="Permalink to &quot;ğŸ¤” What is GM? {#what-is-gm}&quot;">â€‹</a></h2><p>GM means good morning. It&#39;s GM o&#39;clock somewhere, so there&#39;s never a bad time to say GM, Gm, or gm. You can think of &quot;GM&quot; as the new version of &quot;hello world&quot;.</p><h2 id="dependencies" tabindex="-1">Dependencies <a class="header-anchor" href="#dependencies" aria-label="Permalink to &quot;Dependencies {#dependencies}&quot;">â€‹</a></h2><ul><li>Operating systems: GNU/Linux or macOS</li><li><a href="https://go.dev" target="_blank" rel="noreferrer">Golang 1.20+</a></li><li><a href="https://github.com/ignite/cli" target="_blank" rel="noreferrer">Ignite CLI v0.27.1</a></li><li><a href="https://brew.sh" target="_blank" rel="noreferrer">Homebrew</a></li><li><a href="https://www.gnu.org/software/wget" target="_blank" rel="noreferrer">wget</a></li><li><a href="https://docs.celestia.org/nodes/light-node" target="_blank" rel="noreferrer">A Celestia Light Node</a></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you are only planning to complete <a href="#part-one">part one</a>, feel free to skip to the <a href="#part-two">part two</a>.</p><p>Be sure to use the same testnet installation instructions through this entire tutorial.</p></div><h2 id="linux-setup" tabindex="-1">Linux setup <a class="header-anchor" href="#linux-setup" aria-label="Permalink to &quot;Linux setup&quot;">â€‹</a></h2><h3 id="install-golang-linux" tabindex="-1">ğŸƒÂ Install Golang on Linux <a class="header-anchor" href="#install-golang-linux" aria-label="Permalink to &quot;ğŸƒÂ Install Golang on Linux {#install-golang-linux}&quot;">â€‹</a></h3><p><a href="https://github.com/celestiaorg/celestia-app" target="_blank" rel="noreferrer">Celestia-App</a>, <a href="https://github.com/celestiaorg/celestia-node" target="_blank" rel="noreferrer">Celestia-Node</a>, and <a href="https://github.com/cosmos/cosmos-sdk" target="_blank" rel="noreferrer">Cosmos-SDK</a> are written in the Golang programming language. You will need Golang to build and run them.</p><p>You can <a href="https://docs.celestia.org/nodes/environment#install-golang" target="_blank" rel="noreferrer">install Golang here</a>.</p><h3 id="install-ignite-cli-linux" tabindex="-1">ğŸ”¥Â Install Ignite CLI on Linux <a class="header-anchor" href="#install-ignite-cli-linux" aria-label="Permalink to &quot;ğŸ”¥Â Install Ignite CLI on Linux {#install-ignite-cli-linux}&quot;">â€‹</a></h3><p>First, you will need to create <code>/usr/local/bin</code> if you have not already:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">775</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/local/bin</span></span></code></pre></div><p>Run this command in your terminal to install Ignite CLI:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://get.ignite.com/cli@v0.27.1!</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">bash</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>âœ‹ On some machines, you may run into permissions errors like the one below. You can resolve this error by following the guidance <a href="https://docs.ignite.com/v0.25.2/guide/install#write-permission" target="_blank" rel="noreferrer">here</a> or below.</p></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Error</span></span>
<span class="line"><span style="color:#FFCB6B;">jcs</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://get.ignite.com/cli@v0.27.1!</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">bash</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Total</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Received</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Xferd</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Average</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Speed</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Time</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">Time</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">Time</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Current</span></span>
<span class="line"><span style="color:#A6ACCD;">                                 </span><span style="color:#FFCB6B;">Dload</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Upload</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Total</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Spent</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">Left</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Speed</span></span>
<span class="line"><span style="color:#FFCB6B;">100</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">3967</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">3967</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">16847</span><span style="color:#A6ACCD;">      </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--:--:--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--:--:--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--:--:--</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">17475</span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">Installing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v0.27.1.....</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#676E95;font-style:italic;">######################################################################## 100.0% </span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">mv:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rename</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/local/bin/ignite:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Permission</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">denied</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#A6ACCD;">============ </span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">Error:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mv</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">failed</span><span style="color:#A6ACCD;"> </span></span></code></pre></div><p>The following command will resolve the permissions error:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://get.ignite.com/cli@v0.27.1!</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bash</span></span></code></pre></div><p>A successful installation will return something similar to the response below:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line"><span style="color:#FFCB6B;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Total</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Received</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Xferd</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Average</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Speed</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Time</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">Time</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">Time</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Current</span></span>
<span class="line"><span style="color:#A6ACCD;">                                 </span><span style="color:#FFCB6B;">Dload</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Upload</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Total</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Spent</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">Left</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Speed</span></span>
<span class="line"><span style="color:#FFCB6B;">100</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">4073</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">4073</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">   </span><span style="color:#F78C6C;">4363</span><span style="color:#A6ACCD;">      </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--:--:--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--:--:--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--:--:--</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">4379</span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">Installing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v0.27.1.....</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#676E95;font-style:italic;">######################################################################## 100.0% </span></span>
<span class="line"><span style="color:#FFCB6B;">Password:</span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">Installed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">at</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/local/bin/ignite</span><span style="color:#A6ACCD;"> </span></span></code></pre></div><p>Verify youâ€™ve installed Ignite CLI by running:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version</span></span></code></pre></div><p>The response that you receive should look something like this:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line has-focus"><span style="color:#FFCB6B;">jcs</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">Ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CLI</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v0.27.1</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">Ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CLI</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">date:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2023</span><span style="color:#C3E88D;">-06-13T13:42:09Z</span></span>
<span class="line"><span style="color:#FFCB6B;">Ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CLI</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">source</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hash:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">4</span><span style="color:#C3E88D;">acd1f185afb6d8d1a837e54f04c091121cfae01</span></span>
<span class="line"><span style="color:#FFCB6B;">Ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CLI</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#FFCB6B;">Cosmos</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">SDK</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v0.47.3</span></span>
<span class="line"><span style="color:#FFCB6B;">Your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">OS:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">darwin</span></span>
<span class="line"><span style="color:#FFCB6B;">Your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">arch:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">arm64</span></span>
<span class="line"><span style="color:#FFCB6B;">Your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Node.js</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v20.4.0</span></span>
<span class="line"><span style="color:#FFCB6B;">Your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">go1.20.2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">darwin/arm64</span></span>
<span class="line"><span style="color:#FFCB6B;">Your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">uname</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Darwin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Joshs-MacBook-Air.local</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22.5</span><span style="color:#C3E88D;">.0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Darwin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Kernel</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Version</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22.5</span><span style="color:#C3E88D;">.0:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Thu</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Jun</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#C3E88D;">:21:34</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PDT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2023</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">root:xnu-8796.121.3~7/RELEASE_ARM64_T8112</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">arm64</span></span>
<span class="line"><span style="color:#FFCB6B;">Your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cwd:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">/Users/joshstein</span></span>
<span class="line"><span style="color:#FFCB6B;">Is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Gitpod:</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">false</span></span></code></pre></div><h2 id="macos-setup" tabindex="-1">macOS setup <a class="header-anchor" href="#macos-setup" aria-label="Permalink to &quot;macOS setup&quot;">â€‹</a></h2><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you are only planning to complete <a href="#part-one">part one</a>, feel free to skip to the <a href="#part-two">part two</a>.</p><p>Be sure to use the same testnet installation instructions through this entire tutorial.</p></div><h3 id="install-golang-mac" tabindex="-1">ğŸƒÂ Install Golang on macOS <a class="header-anchor" href="#install-golang-mac" aria-label="Permalink to &quot;ğŸƒÂ Install Golang on macOS {#install-golang-mac}&quot;">â€‹</a></h3><p><a href="https://github.com/celestiaorg/celestia-app" target="_blank" rel="noreferrer">Celestia-App</a>, <a href="https://github.com/celestiaorg/celestia-node" target="_blank" rel="noreferrer">Celestia-Node</a>, and <a href="https://github.com/cosmos/cosmos-sdk" target="_blank" rel="noreferrer">Cosmos-SDK</a> are written in the Golang programming language. You will need Golang to build and run them.</p><p>You can <a href="https://docs.celestia.org/nodes/environment#install-golang" target="_blank" rel="noreferrer">install Golang here</a>.</p><h4 id="install-ignite-mac" tabindex="-1">ğŸ”¥Â Install Ignite CLI on macOS <a class="header-anchor" href="#install-ignite-mac" aria-label="Permalink to &quot;ğŸ”¥Â Install Ignite CLI on macOS {#install-ignite-mac}&quot;">â€‹</a></h4><p>First, you will need to create <code>/usr/local/bin</code> if you have not already:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-m</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">775</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/local/bin</span></span></code></pre></div><p>Run this command in your terminal to install Ignite CLI:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://get.ignite.com/cli@v0.27.1!</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">bash</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>âœ‹ On some machines, you may run into permissions errors like the one below. You can resolve this error by following the guidance <a href="https://docs.ignite.com/v0.25.2/guide/install#write-permission" target="_blank" rel="noreferrer">here</a> or below.</p></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line"><span style="color:#676E95;font-style:italic;"># Error</span></span>
<span class="line"><span style="color:#FFCB6B;">jcs</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://get.ignite.com/cli@v0.27.1!</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">bash</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Total</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Received</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Xferd</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Average</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Speed</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Time</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">Time</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">Time</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Current</span></span>
<span class="line"><span style="color:#A6ACCD;">                                 </span><span style="color:#FFCB6B;">Dload</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Upload</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Total</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Spent</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">Left</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Speed</span></span>
<span class="line"><span style="color:#FFCB6B;">100</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">3967</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">3967</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">16847</span><span style="color:#A6ACCD;">      </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--:--:--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--:--:--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--:--:--</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">17475</span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">Installing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v0.27.1.....</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#676E95;font-style:italic;">######################################################################## 100.0% </span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">mv:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rename</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">./ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/local/bin/ignite:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Permission</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">denied</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#A6ACCD;">============ </span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">Error:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mv</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">failed</span><span style="color:#A6ACCD;"> </span></span></code></pre></div><p>The following command will resolve the permissions error:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://get.ignite.com/cli@v0.27.1!</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">sudo</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bash</span></span></code></pre></div><p>A successful installation will return something similar the response below:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line"><span style="color:#FFCB6B;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Total</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Received</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Xferd</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Average</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Speed</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Time</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">Time</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">Time</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Current</span></span>
<span class="line"><span style="color:#A6ACCD;">                                 </span><span style="color:#FFCB6B;">Dload</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Upload</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Total</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Spent</span><span style="color:#A6ACCD;">    </span><span style="color:#C3E88D;">Left</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">Speed</span></span>
<span class="line"><span style="color:#FFCB6B;">100</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">3967</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">3967</span><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">     </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">15586</span><span style="color:#A6ACCD;">      </span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--:--:--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--:--:--</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--:--:--</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">15931</span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">Installing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v0.27.1.....</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#676E95;font-style:italic;">######################################################################## 100.0% </span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">Installed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">at</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/usr/local/bin/ignite</span><span style="color:#A6ACCD;"> </span></span></code></pre></div><p>Verify youâ€™ve installed Ignite CLI by running:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version</span></span></code></pre></div><p>The response that you receive should look something like this:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line has-focus"><span style="color:#FFCB6B;">jcs</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#FFCB6B;">Ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CLI</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">v0.27.1</span></span>
<span class="line"><span style="color:#FFCB6B;">Ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CLI</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">build</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">date:</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">2023</span><span style="color:#C3E88D;">-06-13T13:42:09Z</span></span>
<span class="line"><span style="color:#FFCB6B;">Ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CLI</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">source</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">hash:</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">4</span><span style="color:#C3E88D;">acd1f185afb6d8d1a837e54f04c091121cfae01</span></span>
<span class="line"><span style="color:#FFCB6B;">Ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CLI</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v1</span></span>
<span class="line"><span style="color:#FFCB6B;">Cosmos</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">SDK</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">v0.47.3</span></span>
<span class="line"><span style="color:#FFCB6B;">Your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">OS:</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">darwin</span></span>
<span class="line"><span style="color:#FFCB6B;">Your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">arch:</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">arm64</span></span>
<span class="line"><span style="color:#FFCB6B;">Your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Node.js</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">v20.4.0</span></span>
<span class="line"><span style="color:#FFCB6B;">Your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">go1.20.2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">darwin/arm64</span></span>
<span class="line"><span style="color:#FFCB6B;">Your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">uname</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-a:</span><span style="color:#A6ACCD;">   </span><span style="color:#C3E88D;">Darwin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Joshs-MacBook-Air.local</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22.5</span><span style="color:#C3E88D;">.0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Darwin</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Kernel</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Version</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22.5</span><span style="color:#C3E88D;">.0:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Thu</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Jun</span><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">22</span><span style="color:#C3E88D;">:21:34</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PDT</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2023</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">root:xnu-8796.121.3~7/RELEASE_ARM64_T8112</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">arm64</span></span>
<span class="line"><span style="color:#FFCB6B;">Your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cwd:</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">/Users/joshstein</span></span>
<span class="line"><span style="color:#FFCB6B;">Is</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Gitpod:</span><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">false</span></span></code></pre></div><h3 id="install-homebrew-mac" tabindex="-1">ğŸºÂ Install Homebrew on macOS <a class="header-anchor" href="#install-homebrew-mac" aria-label="Permalink to &quot;ğŸºÂ Install Homebrew on macOS {#install-homebrew-mac}&quot;">â€‹</a></h3><p>Homebrew will allow us to install dependencies for our Mac:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">/bin/bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">curl</span><span style="color:#C3E88D;"> -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh</span><span style="color:#89DDFF;">)&quot;</span></span></code></pre></div><p>Be sure to run the commands similar to the output below from the successful installation:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">==&gt; </span><span style="color:#C3E88D;">Next</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">steps:</span></span>
<span class="line"><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">these</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">three</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commands</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">terminal</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">add</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Homebrew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">to</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">your</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">PATH:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;"># Set PATH, MANPATH, etc., for Homebrew.</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/joshstein/.zprofile</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">eval &quot;$(/opt/homebrew/bin/brew shellenv)&quot;</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/Users/joshstein/.zprofile</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#82AAFF;">eval</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">/opt/homebrew/bin/brew</span><span style="color:#C3E88D;"> shellenv</span><span style="color:#89DDFF;">)&quot;</span></span></code></pre></div><h3 id="install-wget-mac" tabindex="-1">ğŸƒÂ Install wget on macOS <a class="header-anchor" href="#install-wget-mac" aria-label="Permalink to &quot;ğŸƒÂ Install wget on macOS {#install-wget-mac}&quot;">â€‹</a></h3><p>wget is an Internet file retriever:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">brew</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">wget</span></span></code></pre></div><h2 id="part-one" tabindex="-1">Part one <a class="header-anchor" href="#part-one" aria-label="Permalink to &quot;Part one&quot;">â€‹</a></h2><p>This part of the tutorial will teach developers how to easily run a local data availability (DA) devnet on their own machine (or in the cloud). <strong>Running a local devnet for DA to test your rollup is the recommended first step before deploying to a testnet.</strong> This eliminates the need for testnet tokens and deploying to a testnet until you are ready.</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Part one of the tutorial has only been tested on an AMD machine running Ubuntu 22.10 x64.</p></div><p>Whether you&#39;re a developer simply testing things on your laptop or using a virtual machine in the cloud, this process can be done on any machine of your choosing. We tested out the Devnet section (part one) on a machine with the following specs:</p><ul><li>Memory: 1 GB RAM</li><li>CPU: Single Core AMD</li><li>Disk: 25 GB SSD Storage</li><li>OS: Ubuntu 22.10 x64</li></ul><h3 id="prerequisites" tabindex="-1">ğŸ’» Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;ğŸ’» Prerequisites {#prerequisites}&quot;">â€‹</a></h3><ul><li><a href="https://docs.docker.com/get-docker" target="_blank" rel="noreferrer">Docker</a> installed on your machine</li></ul><h3 id="running-local-devnet-rollup" tabindex="-1">ğŸ  Running local devnet with a Rollkit rollup <a class="header-anchor" href="#running-local-devnet-rollup" aria-label="Permalink to &quot;ğŸ  Running local devnet with a Rollkit rollup {#running-local-devnet-rollup}&quot;">â€‹</a></h3><p>First, run the <a href="https://github.com/rollkit/local-celestia-devnet" target="_blank" rel="noreferrer"><code>local-celestia-devnet</code></a> by running the following command:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">run</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-i</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-t</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--platform</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">linux/amd64</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">26657</span><span style="color:#C3E88D;">:26657</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">26658</span><span style="color:#C3E88D;">:26658</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">26659</span><span style="color:#C3E88D;">:26659</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ghcr.io/rollkit/local-celestia-devnet:v0.11.0</span></span></code></pre></div><p>When passing the <code>--rollkit.da_config</code> flag later in the tutorial, it will require <code>auth_token</code> to be passed in. The auth token with write permission is required to submit blobs and can be obtained with the following command once your local-celestia-devnet is running:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">docker</span><span style="color:#C3E88D;"> ps -q</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;">  </span><span style="color:#C3E88D;">celestia</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bridge</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--node.store</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/home/celestia/bridge/</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">auth</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">admin</span></span></code></pre></div><p>This will give you the local-celestia-devnet bridge node auth token. This assumes that there is only one container, otherwise you can pass the container name.</p><p>We&#39;ll use the variable later on to start our rollup.</p><h3 id="query-your-balance" tabindex="-1">ğŸ” Query your balance <a class="header-anchor" href="#query-your-balance" aria-label="Permalink to &quot;ğŸ” Query your balance {#query-your-balance}&quot;">â€‹</a></h3><p>Open a new terminal instance. Check the balance on your account that you&#39;ll be using to post blocks to the local network, this will make sure you can post rollup blocks to your Celestia Devnet for DA &amp; consensus.</p><p>First, set your auth token:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> CELESTIA_NODE_AUTH_TOKEN</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">docker</span><span style="color:#C3E88D;"> exec </span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">docker</span><span style="color:#C3E88D;"> ps -q</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">  celestia bridge --node.store /home/celestia/bridge/ auth admin</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>Next, check your balance:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">docker</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">exec</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">docker</span><span style="color:#C3E88D;"> ps -q</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">celestia</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">state</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">balance</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--token</span><span style="color:#A6ACCD;"> $CELESTIA_NODE_AUTH_TOKEN</span></span></code></pre></div><p>You will see something like this, denoting your balance in TIA x 10<sup>-6</sup>:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">&quot;result&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">&quot;denom&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">utia</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">&quot;amount&quot;</span><span style="color:#82AAFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">999994999970000</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h3 id="building-your-sovereign-rollup" tabindex="-1">ğŸ—ï¸ Building your sovereign rollup <a class="header-anchor" href="#building-your-sovereign-rollup" aria-label="Permalink to &quot;ğŸ—ï¸ Building your sovereign rollup {#building-your-sovereign-rollup}&quot;">â€‹</a></h3><p>Now that you have a Celestia devnet running, we are ready to use Golang to build and run our Cosmos-SDK blockchain.</p><p>The Ignite CLI comes with scaffolding commands to make development of blockchains quicker by creating everything that is needed to start a new Cosmos SDK blockchain.</p><p>Check your version:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">version</span></span></code></pre></div><p>Open a new tab or window in your terminal and run this command to scaffold your rollup. Scaffold the chain:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> $HOME</span></span>
<span class="line"><span style="color:#FFCB6B;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scaffold</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chain</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--address-prefix</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>The <code>--address-prefix gm</code> flag will change the address prefix from <code>cosmos</code> to <code>gm</code>. Read more on the <a href="https://docs.cosmos.network/v0.46/basics/accounts.html" target="_blank" rel="noreferrer">Cosmos docs</a>.</p></div><p>The response will look similar to below:</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Do not run <code>ignite chain serve</code> as we will build the chain later in the tutorial.</p></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line"><span style="color:#FFCB6B;">jcs</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">@</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">~</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scaffold</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chain</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--address-prefix</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm</span></span>
<span class="line"></span>
<span class="line has-focus"><span style="color:#FFCB6B;">â­ï¸</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Successfully</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">created</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">blockchain</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">gm</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">.</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">ğŸ‘‰</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Get</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">started</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">the</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">following</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">commands:</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"></span>
<span class="line has-focus"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">%</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">chain</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">serve</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">Documentation:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://docs.ignite.com</span></span></code></pre></div><p>This command has created a Cosmos SDK blockchain in the <code>gm</code> directory. The <code>gm</code> directory contains a fully functional blockchain. The following standard Cosmos SDK <a href="https://docs.cosmos.network/main/modules" target="_blank" rel="noreferrer">modules</a> have been imported:</p><ul><li><code>staking</code> - for delegated Proof-of-Stake (PoS) consensus mechanism</li><li><code>bank</code> - for fungible token transfers between accounts</li><li><code>gov</code> - for on-chain governance</li><li><code>mint</code> - for minting new units of staking token</li><li><code>nft</code> - for creating, transferring, and updating NFTs</li><li>and <a href="https://docs.cosmos.network/main/architecture/adr-043-nft-module.html" target="_blank" rel="noreferrer">more</a></li></ul><p>Change to the <code>gm</code> directory:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm</span></span></code></pre></div><p>You can learn more about the <code>gm</code> directoryâ€™s file structure <a href="https://docs.ignite.com/v0.25.2/guide/hello#blockchain-directory-structure" target="_blank" rel="noreferrer">here</a>. Most of our work in this tutorial will happen in the <code>x</code> directory.</p><h3 id="install-rollkit" tabindex="-1">ğŸ—ï¸ Install Rollkit <a class="header-anchor" href="#install-rollkit" aria-label="Permalink to &quot;ğŸ—ï¸ Install Rollkit {#install-rollkit}&quot;">â€‹</a></h3><p>To swap out CometBFT for Rollkit, run the following command from inside the <code>gm</code> directory:</p><div class="vp-code-group"><div class="tabs"><input type="radio" name="group-mpSDT" id="tab-hAJj1Xm" checked="checked"><label for="tab-hAJj1Xm">local-celestia-devnet</label><input type="radio" name="group-mpSDT" id="tab-ZmpcBcg"><label for="tab-ZmpcBcg">Arabica Devnet</label></div><div class="blocks"><div class="language-bash active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">edit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-replace</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">github.com/cosmos/cosmos-sdk=github.com/rollkit/cosmos-sdk@v0.47.3-rollkit-v0.10.5-no-fraud-proofs</span></span>
<span class="line"><span style="color:#FFCB6B;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">edit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-replace</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">github.com/gogo/protobuf=github.com/regen-network/protobuf@v1.3.3-alpha.regen.1</span></span>
<span class="line"><span style="color:#FFCB6B;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tidy</span></span>
<span class="line"><span style="color:#FFCB6B;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">download</span></span></code></pre></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">edit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-replace</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">github.com/cosmos/cosmos-sdk=github.com/rollkit/cosmos-sdk@v0.47.3-rollkit-v0.10.5-no-fraud-proofs</span></span>
<span class="line"><span style="color:#FFCB6B;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">edit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-replace</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">github.com/gogo/protobuf=github.com/regen-network/protobuf@v1.3.3-alpha.regen.1</span></span>
<span class="line"><span style="color:#FFCB6B;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tidy</span></span>
<span class="line"><span style="color:#FFCB6B;">go</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mod</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">download</span></span></code></pre></div></div></div><h3 id="start-your-rollup" tabindex="-1">â–¶ï¸ Start your rollup <a class="header-anchor" href="#start-your-rollup" aria-label="Permalink to &quot;â–¶ï¸ Start your rollup {#start-your-rollup}&quot;">â€‹</a></h3><p>Download the <code>init-local.sh</code> script to start the chain:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># From inside the \`gm\` directory</span></span>
<span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://raw.githubusercontent.com/rollkit/docs/main/scripts/gm/init-local.sh</span></span></code></pre></div><p>Next, you&#39;ll need to set the auth token in your terminal to be consumed by your <code>init-local.sh</code> script.</p><p>In the terminal that you will run the script in, set the auth token for the local-celestia-devnet. This is so that you can post data to the local DA.</p><p>Remember that the following command assumes that there is only one container, otherwise you can pass the container name.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> AUTH_TOKEN</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">docker</span><span style="color:#C3E88D;"> exec </span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">docker</span><span style="color:#C3E88D;"> ps -q</span><span style="color:#89DDFF;">)</span><span style="color:#C3E88D;">  celestia bridge --node.store /home/celestia/bridge/ auth admin</span><span style="color:#89DDFF;">)</span></span></code></pre></div><p>Run the <code>init-local.sh</code> script:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init-local.sh</span></span></code></pre></div><p>This will start your rollup, connected to the local Celestia devnet you have running.</p><p>Now let&#39;s explore a bit.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you are restarting your rollup, you&#39;ll need to clear the old chain history and binary:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/.gm</span></span>
<span class="line"><span style="color:#FFCB6B;">rm</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/go/bin/gmd</span></span></code></pre></div></div><h4 id="keys" tabindex="-1">ğŸ”‘ Keys <a class="header-anchor" href="#keys" aria-label="Permalink to &quot;ğŸ”‘ Keys {#keys}&quot;">â€‹</a></h4><p>List your keys:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">gmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">keys</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">list</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--keyring-backend</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span></span></code></pre></div><p>You should see an output like the following</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line has-focus"><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">address:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm1sa3xvrkvwhktjppxzaayst7s7z4ar06rk37jq7</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">name:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm-key-2</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">pubkey:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;@type&quot;:&quot;/cosmos.crypto.secp256k1.PubKey&quot;,&quot;key&quot;:&quot;AlXXb6Op8DdwCejeYkGWbF4G3pDLDO+rYiVWKPKuvYaz&quot;}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">type</span><span style="color:#A6ACCD;">: </span><span style="color:#C3E88D;">local</span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">address:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm13nf52x452c527nycahthqq4y9phcmvat9nejl2</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">name:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm-key</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">pubkey:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">{&quot;@type&quot;:&quot;/cosmos.crypto.secp256k1.PubKey&quot;,&quot;key&quot;:&quot;AwigPerY+eeC2WAabA6iW1AipAQora5Dwmo1SnMnjavt&quot;}</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#82AAFF;">type</span><span style="color:#A6ACCD;">: </span><span style="color:#C3E88D;">local</span></span></code></pre></div><h4 id="transactions" tabindex="-1">ğŸ’¸ Transactions <a class="header-anchor" href="#transactions" aria-label="Permalink to &quot;ğŸ’¸ Transactions {#transactions}&quot;">â€‹</a></h4><p>Now we can test sending a transaction from one of our keys to the other. We can do that with the following command:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">gmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bank</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">send</span><span style="color:#A6ACCD;"> [from_key_or_address] </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">to_address</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">amount</span><span style="color:#89DDFF;">]</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">flags</span><span style="color:#89DDFF;">]</span></span></code></pre></div><p>Set your keys as variables to make it easier to add the address:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> KEY1</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">gm1sa3xvrkvwhktjppxzaayst7s7z4ar06rk37jq7</span></span>
<span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> KEY2</span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;">gm13nf52x452c527nycahthqq4y9phcmvat9nejl2</span></span></code></pre></div><p>So using our information from the <a href="#keys">keys</a> command, we can construct the transaction command like so to send 42069stake from one address to another:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">gmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bank</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">send</span><span style="color:#A6ACCD;"> $KEY1 $KEY2 </span><span style="color:#F78C6C;">42069</span><span style="color:#C3E88D;">stake</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--keyring-backend</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> \\</span></span>
<span class="line"><span style="color:#A6ACCD;">--node </span><span style="color:#C3E88D;">tcp://127.0.0.1:36657</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>We&#39;re using the <code>--node [ip:port]</code> flag to point to port 36657, which is the custom port we used in the <code>init-local.sh</code> script to avoid clashing with 26657 on local-celestia-devnet. We set it here:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">--rpc.laddr</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tcp://127.0.0.1:36657</span></span></code></pre></div></div><p>You&#39;ll be prompted to accept the transaction:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line"><span style="color:#FFCB6B;">auth_info:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">fee:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">amount:</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">gas_limit:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">200000</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">granter:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">payer:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">signer_infos:</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">tip:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">null</span></span>
<span class="line"><span style="color:#FFCB6B;">body:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">extension_options:</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">memo:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">messages:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@type</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/cosmos.bank.v1beta1.MsgSend</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">amount:</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">amount:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">42069</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">      </span><span style="color:#FFCB6B;">denom:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stake</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">from_address:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm1sa3xvrkvwhktjppxzaayst7s7z4ar06rk37jq7</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#FFCB6B;">to_address:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm13nf52x452c527nycahthqq4y9phcmvat9nejl2</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">non_critical_extension_options:</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">timeout_height:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">signatures:</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">confirm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">transaction</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">before</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">signing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">broadcasting</span><span style="color:#A6ACCD;"> [y/N]: </span></span></code></pre></div><p>Type <code>y</code> if you&#39;d like to confirm and sign the transaction. Then, you&#39;ll see the confirmation:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">code:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">codespace:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">data:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">events:</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#FFCB6B;">gas_used:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">gas_wanted:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">height:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">info:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">logs:</span><span style="color:#A6ACCD;"> []</span></span>
<span class="line"><span style="color:#FFCB6B;">raw_log:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">[]</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#FFCB6B;">timestamp:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">tx:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">null</span></span>
<span class="line"><span style="color:#FFCB6B;">txhash:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">677</span><span style="color:#C3E88D;">CAF6C80B85ACEF6F9EC7906FB3CB021322AAC78B015FA07D5112F2F824BFF</span></span></code></pre></div><h4 id="balances" tabindex="-1">âš–ï¸ Balances <a class="header-anchor" href="#balances" aria-label="Permalink to &quot;âš–ï¸ Balances {#balances}&quot;">â€‹</a></h4><p>Then, query your balance:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">gmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">query</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bank</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">balances</span><span style="color:#A6ACCD;"> $KEY2 </span><span style="color:#C3E88D;">--node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tcp://127.0.0.1:36657</span></span></code></pre></div><p>This is the key that received the balance, so it should have increased past the initial <code>STAKING_AMOUNT</code>:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line has-focus"><span style="color:#FFCB6B;">balances:</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">amount:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">10000000000000000000042069</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">denom:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stake</span></span>
<span class="line"><span style="color:#FFCB6B;">pagination:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">next_key:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">null</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">total:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>The other key, should have decreased in balance:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">gmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">query</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bank</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">balances</span><span style="color:#A6ACCD;"> $KEY1 </span><span style="color:#C3E88D;">--node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tcp://127.0.0.1:36657</span></span></code></pre></div><p>Response:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line has-focus"><span style="color:#FFCB6B;">balances:</span><span style="color:#A6ACCD;"> </span></span>
<span class="line has-focus"><span style="color:#FFCB6B;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">amount:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">9999999999999999999957931</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">denom:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">stake</span></span>
<span class="line"><span style="color:#FFCB6B;">pagination:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">next_key:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">null</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#FFCB6B;">total:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><h2 id="part-two" tabindex="-1">Part two <a class="header-anchor" href="#part-two" aria-label="Permalink to &quot;Part two&quot;">â€‹</a></h2><h3 id="run-celestia-node" tabindex="-1">ğŸª¶Â Run a Celestia light node <a class="header-anchor" href="#run-celestia-node" aria-label="Permalink to &quot;ğŸª¶Â Run a Celestia light node {#run-celestia-node}&quot;">â€‹</a></h3><p>Follow instructions to install and start your Celestia data availability layer light node selecting the Arabica network. You can find instructions to install and run the node <a href="https://docs.celestia.org/nodes/light-node" target="_blank" rel="noreferrer">here</a>.</p><p>After you have Go and Ignite CLI installed, and your Celestia Light Node running on your machine, you&#39;re ready to build, test, and launch your own sovereign rollup.</p><p>An example start command on <code>arabica-9</code> would look like this:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">celestia</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">light</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--core.ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">consensus-full-arabica-9.celestia-arabica.com</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--p2p.network</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">arabica</span></span></code></pre></div><h3 id="say-gm-world" tabindex="-1">ğŸ’¬Â Say gm world <a class="header-anchor" href="#say-gm-world" aria-label="Permalink to &quot;ğŸ’¬Â Say gm world {#say-gm-world}&quot;">â€‹</a></h3><p>Now, we&#39;re going to get our blockchain to say <code>gm world!</code> - in order to do so you need to make the following changes:</p><ul><li>Modify a protocol buffer file</li><li>Create a keeper query function that returns data</li></ul><p>Protocol buffer files contain proto RPC calls that define Cosmos SDK queries and message handlers, and proto messages that define Cosmos SDK types. The RPC calls are also responsible for exposing an HTTP API.</p><p>The <code>Keeper</code> is required for each Cosmos SDK module and is an abstraction for modifying the state of the blockchain. Keeper functions allow us to query or write to the state.</p><h4 id="create-first-query" tabindex="-1">âœ‹Â Create your first query <a class="header-anchor" href="#create-first-query" aria-label="Permalink to &quot;âœ‹Â Create your first query {#create-first-query}&quot;">â€‹</a></h4><p><strong>Open a new terminal instance that is not the same that you started the chain in.</strong></p><p>In your new terminal, <code>cd</code> into the <code>gm</code> directory and run this command to create the <code>gm</code> query:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">ignite</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">scaffold</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">query</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--response</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">text</span></span></code></pre></div><p>Response:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">modify</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">proto/gm/gm/query.proto</span></span>
<span class="line"><span style="color:#FFCB6B;">modify</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">x/gm/client/cli/query.go</span></span>
<span class="line"><span style="color:#FFCB6B;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">x/gm/client/cli/query_gm.go</span></span>
<span class="line"><span style="color:#FFCB6B;">create</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">x/gm/keeper/query_gm.go</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">ğŸ‰</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Created</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">query</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">\`</span><span style="color:#FFCB6B;">gm</span><span style="color:#89DDFF;">\`</span><span style="color:#82AAFF;">.</span></span></code></pre></div><p>What just happened? <code>query</code> accepts the name of the query (<code>gm</code>), an optional list of request parameters (empty in this tutorial), and an optional comma-separated list of response field with a <code>--response</code> flag (<code>text</code> in this tutorial).</p><p>Navigate to the <code>gm/proto/gm/gm/query.proto</code> file, youâ€™ll see that <code>Gm</code> RPC has been added to the <code>Query</code> service:</p><div class="language-proto"><button title="Copy Code" class="copy"></button><span class="lang">proto</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Query</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">rpc</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Params</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">QueryParamsRequest</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">returns</span><span style="color:#A6ACCD;"> (</span><span style="color:#FFCB6B;">QueryParamsResponse</span><span style="color:#A6ACCD;">) {</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F78C6C;">option</span><span style="color:#A6ACCD;"> (google.api.http).get </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;/gm/gm/params&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  }</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">rpc</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Gm</span><span style="color:#A6ACCD;">(</span><span style="color:#FFCB6B;">QueryGmRequest</span><span style="color:#A6ACCD;">) </span><span style="color:#F78C6C;">returns</span><span style="color:#A6ACCD;"> (</span><span style="color:#FFCB6B;">QueryGmResponse</span><span style="color:#A6ACCD;">) {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F78C6C;">option</span><span style="color:#A6ACCD;"> (google.api.http).get </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">&quot;/gm/gm/gm&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;"> }</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><p>The <code>Gm</code> RPC for the <code>Query</code> service:</p><ul><li>is responsible for returning a <code>text</code> string</li><li>Accepts request parameters (<code>QueryGmRequest</code>)</li><li>Returns response of type <code>QueryGmResponse</code></li><li>The <code>option</code> defines the endpoint that is used by gRPC to generate an HTTP API</li></ul><h4 id="query-request-and-response-types" tabindex="-1">ğŸ“¨Â Query request and response types <a class="header-anchor" href="#query-request-and-response-types" aria-label="Permalink to &quot;ğŸ“¨Â Query request and response types {#query-request-and-response-types}&quot;">â€‹</a></h4><p>In the same file, we will find:</p><ul><li><code>QueryGmRequest</code> is empty because it does not require parameters</li><li><code>QueryGmResponse</code> contains <code>text</code> that is returned from the chain</li></ul><div class="language-proto"><button title="Copy Code" class="copy"></button><span class="lang">proto</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#F78C6C;">message</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">QueryGmRequest</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F78C6C;">message</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">QueryGmResponse</span><span style="color:#A6ACCD;"> {</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">string</span><span style="color:#A6ACCD;"> text </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span></code></pre></div><h4 id="gm-keeper-function" tabindex="-1">ğŸ‘‹Â Gm keeper function <a class="header-anchor" href="#gm-keeper-function" aria-label="Permalink to &quot;ğŸ‘‹Â Gm keeper function {#gm-keeper-function}&quot;">â€‹</a></h4><p>The <code>gm/x/gm/keeper/query_gm.go</code> file contains the <code>Gm</code> keeper function that handles the query and returns data.</p><div class="language-go"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">func</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">k Keeper</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Gm</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">goCtx context</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Context</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> req </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">types</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QueryGmRequest</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">types</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QueryGmResponse</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">error</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> req </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nil</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nil,</span><span style="color:#A6ACCD;"> status</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Error</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">codes</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">InvalidArgument</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">invalid request</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">	ctx </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> sdk</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">UnwrapSDKContext</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">goCtx</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	_ </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ctx</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">types</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QueryGmResponse</span><span style="color:#89DDFF;">{},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nil</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><p>The <code>Gm</code> function performs the following actions:</p><ul><li>Makes a basic check on the request and throws an error if itâ€™s <code>nil</code></li><li>Stores context in a <code>ctx</code> variable that contains information about the environment of the request</li><li>Returns a response of type <code>QueryGmResponse</code></li></ul><p>Currently, the response is empty and you&#39;ll need to update the keeper function.</p><p>Our <code>query.proto</code> file defines that the response accepts <code>text</code>. Use your text editor to modify the keeper function in <code>gm/x/gm/keeper/query_gm.go</code> .</p><div class="language-go"><button title="Copy Code" class="copy"></button><span class="lang">go</span><pre class="shiki material-theme-palenight has-focused-lines"><code><span class="line"><span style="color:#89DDFF;">func</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">k Keeper</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Gm</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">goCtx context</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Context</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> req </span><span style="color:#89DDFF;">*</span><span style="color:#A6ACCD;">types</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QueryGmRequest</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(*</span><span style="color:#A6ACCD;">types</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QueryGmResponse</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">error</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> req </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nil</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">		</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nil,</span><span style="color:#A6ACCD;"> status</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Error</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">codes</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">InvalidArgument</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">invalid request</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">	ctx </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> sdk</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">UnwrapSDKContext</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">goCtx</span><span style="color:#89DDFF;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">	_ </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> ctx</span></span>
<span class="line has-focus"><span style="color:#A6ACCD;">	</span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;</span><span style="color:#A6ACCD;">types</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">QueryGmResponse</span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">Text</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">gm world!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">},</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nil</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h4 id="start-your-sovereign-rollup" tabindex="-1">ğŸŸ¢Â Start your sovereign rollup <a class="header-anchor" href="#start-your-sovereign-rollup" aria-label="Permalink to &quot;ğŸŸ¢Â Start your sovereign rollup {#start-your-sovereign-rollup}&quot;">â€‹</a></h4><p>We have a handy <code>init-testnet.sh</code> found in this repo <a href="https://github.com/rollkit/docs/tree/main/scripts/gm" target="_blank" rel="noreferrer">here</a>.</p><p>We can copy it over to our directory with the following commands:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># From inside the \`gm\` directory</span></span>
<span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://raw.githubusercontent.com/rollkit/docs/main/scripts/gm/init-testnet.sh</span></span></code></pre></div><p>This copies over our <code>init-testnet.sh</code> script to initialize our <code>gm</code> rollup.</p><p>You can view the contents of the script to see how we initialize the gm rollup.</p><h5 id="clear-previous-chain-history" tabindex="-1">Clear previous chain history <a class="header-anchor" href="#clear-previous-chain-history" aria-label="Permalink to &quot;Clear previous chain history&quot;">â€‹</a></h5><p>Before starting the rollup, we need to remove the old project folders:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-r</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/go/bin/gmd</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">rm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-rf</span><span style="color:#A6ACCD;"> $HOME</span><span style="color:#C3E88D;">/.gm</span></span></code></pre></div><h5 id="set-the-auth-token-for-your-light-node" tabindex="-1">Set the auth token for your light node <a class="header-anchor" href="#set-the-auth-token-for-your-light-node" aria-label="Permalink to &quot;Set the auth token for your light node&quot;">â€‹</a></h5><p>You will also need to set the auth token for your Celestia light node before running the rollup. In the terminal that you will run the <code>init-testnet.sh</code> script in, run the following:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">export</span><span style="color:#A6ACCD;"> AUTH_TOKEN</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">celestia</span><span style="color:#C3E88D;"> light auth admin --p2p.network arabica</span><span style="color:#89DDFF;">)</span></span></code></pre></div><h5 id="start-the-new-chain" tabindex="-1">Start the new chain <a class="header-anchor" href="#start-the-new-chain" aria-label="Permalink to &quot;Start the new chain {#start-the-new-chain}&quot;">â€‹</a></h5><p>Now, you can initialize the script with the following command:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init-testnet.sh</span></span></code></pre></div><p>With that, we have kickstarted our second <code>gmd</code> network!</p><p>TheÂ <code>query</code>Â command has also scaffolded <code>x/gm/client/cli/query_gm.go</code>Â that implements a CLI equivalent of the gm query and mounted this command in <code>x/gm/client/cli/query.go</code>.</p><p>In a separate window, run the following command:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">gmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">q</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm</span></span></code></pre></div><p>We will get the following JSON response:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">text:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">world!</span></span></code></pre></div><p><img src="`+l+'" alt="gm.png"></p><p>Congratulations ğŸ‰ you&#39;ve successfully built your first rollup and queried it!</p><p>If you&#39;re interested in looking at the demo repository for this tutorial, you can at <a href="https://github.com/rollkit/gm" target="_blank" rel="noreferrer">https://github.com/rollkit/gm</a>.</p><h2 id="part-three" tabindex="-1">Part three <a class="header-anchor" href="#part-three" aria-label="Permalink to &quot;Part three&quot;">â€‹</a></h2><p>In this section, we will cover how to deploy to Celestia&#39;s Mainnet Beta.</p><p>For this portion, you will need to stop the rollup that you have running from above using <code>Control + C</code> in the terminal.</p><ol><li><p>Start your Celestia light node with state access (using the <code>--core.ip string</code> flag), this time on <code>celestia</code>, which is the chain ID for Mainnet Beta.</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">celestia</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">light</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--core.ip</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">rpc.celestia.pops.one</span></span></code></pre></div></li><li><p>Download the script for deploying to Celestia&#39;s Mainnet Beta:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># From inside the `gm` directory</span></span>\n<span class="line"><span style="color:#FFCB6B;">wget</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://raw.githubusercontent.com/rollkit/docs/main/scripts/gm/init-mainnet.sh</span></span></code></pre></div></li><li><p>Ensure that the account for your light node is funded.</p></li><li><p>Run the <code>init-mainnet.sh</code> script:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init-mainnet.sh</span></span></code></pre></div></li><li><p>Watch as your rollup posts blocks to Celestia!</p></li></ol><p>To deploy to a different DA layer, modify the script to fit your architecture.</p><h2 id="next-steps" tabindex="-1">Next steps <a class="header-anchor" href="#next-steps" aria-label="Permalink to &quot;Next steps&quot;">â€‹</a></h2><p>If you&#39;re interested in setting up a full node alongside your sequencer, see the <a href="./full-and-sequencer-node">Full and sequencer node rollup setup</a> tutorial.</p>',208),t=[p];function r(c,C,i,y,D,A){return a(),n("div",null,t)}const u=s(e,[["render",r]]);export{d as __pageData,u as default};
