import{C as e}from"./chunks/callout.9dddda21.js";import{c as l}from"./chunks/constants.8fcd1e5f.js";import{o as t,c,k as s,O as r,t as p,l as o,a,X as n}from"./chunks/framework.85f88ea4.js";const C=n('<h1 id="how-to-use-ibc-token-tia-as-gas-token-in-your-rollup" tabindex="-1">How to use IBC token (TIA) as gas token in your rollup <a class="header-anchor" href="#how-to-use-ibc-token-tia-as-gas-token-in-your-rollup" aria-label="Permalink to &quot;How to use IBC token (TIA) as gas token in your rollup&quot;">‚Äã</a></h1><h2 id="introduction" tabindex="-1">üåû Introduction <a class="header-anchor" href="#introduction" aria-label="Permalink to &quot;üåû Introduction {#introduction}&quot;">‚Äã</a></h2><p>This tutorial will guide you through building a sovereign <code>gm-world</code> rollup using Rollkit, with TIA as the gas token. Unlike the <a href="https://rollkit.dev/tutorials/quick-start" target="_blank" rel="noreferrer">quick start guide</a>, which uses a native rollup token for gas, this tutorial demonstrates how to integrate an IBC-enabled token, TIA, as the gas token within the rollup, providing a deeper exploration of sovereign rollup development.</p><p>We will cover:</p><ul><li>Building and configuring a Cosmos-SDK application-specific rollup blockchain.</li><li>Posting rollup data to a Data Availability (DA) network.</li><li>Executing transactions using TIA as the gas token (the end goal).</li></ul><p>No prior understanding of the build process is required, just that it utilizes the <a href="https://github.com/cosmos/cosmos-sdk" target="_blank" rel="noreferrer">Cosmos SDK</a> for blockchain applications.</p>',6),y={class:"tip custom-block"},D=s("p",{class:"custom-block-title"},"TIP",-1),i=s("h2",{id:"dependencies",tabindex:"-1"},[a("üõ†Ô∏è Dependencies "),s("a",{class:"header-anchor",href:"#dependencies","aria-label":'Permalink to "üõ†Ô∏è Dependencies {#dependencies}"'},"‚Äã")],-1),A=s("p",null,[a("Rollkit uses the "),s("a",{href:"https://go.dev/dl/",target:"_blank",rel:"noreferrer"},"Go programming language"),a(". Here's how to install it:")],-1),d=s("p",null,[s("strong",null,"Linux or macOS"),a(": Run the provided script:")],-1),u={class:"language-bash"},E=s("button",{title:"Copy Code",class:"copy"},null,-1),h=s("span",{class:"lang"},"bash",-1),F={class:"shiki material-theme-palenight"},g={class:"line"},m=n('<span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-sSL</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://rollkit.dev/install-go.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span>',12),b={style:{color:"#C3E88D"}},B=s("strong",null,"Windows",-1),_=["href"],k=s("h2",{id:"running-local-da",tabindex:"-1"},[a("üåê Running a Local DA Network "),s("a",{class:"header-anchor",href:"#running-local-da","aria-label":'Permalink to "üåê Running a Local DA Network {#running-local-da}"'},"‚Äã")],-1),v=s("p",null,"Learn to run a local DA network, designed for educational purposes, on your machine.",-1),f=s("p",null,"To set up a local DA network node:",-1),q={class:"language-bash"},I=s("button",{title:"Copy Code",class:"copy"},null,-1),T=s("span",{class:"lang"},"bash",-1),P={class:"shiki material-theme-palenight"},w={class:"line"},N=n('<span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/tmp</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">curl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-sSL</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://rollkit.dev/install-local-da.sh</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-s</span><span style="color:#A6ACCD;"> </span>',19),x={style:{color:"#C3E88D"}},S=s("span",{style:{color:"#89DDFF"}},")",-1),M=n(`<p>This script builds and runs the node, now listening on port <code>7980</code>.</p><h2 id="building-your-sovereign-rollup" tabindex="-1">üèóÔ∏è Building Your Sovereign Rollup <a class="header-anchor" href="#building-your-sovereign-rollup" aria-label="Permalink to &quot;üèóÔ∏è Building Your Sovereign Rollup {#building-your-sovereign-rollup}&quot;">‚Äã</a></h2><p>With the local DA network running, let‚Äôs prepare your rollup blockchain.</p><p>To make it simple, we will download a repository with a <code>gm-world</code> rollup that includes an <code>init.sh</code> script to handle all the setup for you.</p><p>Download and build a <code>gm-world</code> rollup with an interactive script in a new terminal:</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>Ensure the <code>jq</code> command line tool is installed before proceeding. Install it using <code>sudo apt-get install jq</code> on Ubuntu or <code>brew install jq</code> on macOS.</p></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>If you get errors of <code>gmd</code> not found, you may need to add the <code>go/bin</code> directory to your PATH. You can do this by running <code>export PATH=$PATH:$HOME/go/bin</code> and then running the <code>init.sh</code> script manually again.</p></div><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/tmp</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">bash</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-c</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">curl</span><span style="color:#C3E88D;"> -sSL https://rollkit.dev/install-gm-rollup.sh</span><span style="color:#89DDFF;">)&quot;</span><span style="color:#89DDFF;">)</span></span></code></pre></div><h2 id="start-your-rollup" tabindex="-1">üöÄ Starting your rollup <a class="header-anchor" href="#start-your-rollup" aria-label="Permalink to &quot;üöÄ Starting your rollup {#start-your-rollup}&quot;">‚Äã</a></h2><p>Start the rollup, posting to the local DA network:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">gmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--rollkit.aggregator</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--rollkit.da_address</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://localhost:7980</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--minimum-gas-prices=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">0.02ibc/C3E53D20BC7A4CC993B17C7971F8ECD06A433C10B6A96F4C4C3714F0624C56DA,0.025stake</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>Note that we specified the gas token to be IBC TIA. We still haven&#39;t made an IBC connection to Celestia&#39;s Mocha testnet, however, if we assume our first channel will be an ICS-20 transfer channel to Celestia, we can already calculate the token denom using this formula:</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ibc/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">toHex</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">sha256</span><span style="color:#A6ACCD;">(</span><span style="color:#82AAFF;">toUtf8</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">transfer/channel-0/utia</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)))</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toUpperCase</span><span style="color:#A6ACCD;">()</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>Now you should see the logs of the running node:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">starting</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ABCI</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">CometBFT</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in-process</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=server</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">starting</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">with</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Rollkit</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in-process</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=server</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">impl=multiAppConn</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=proxy</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">msg=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Starting multiAppConn service</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">connection=query</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">impl=localClient</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=abci-client</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">msg=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Starting localClient service</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">connection=snapshot</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">impl=localClient</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=abci-client</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">msg=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Starting localClient service</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">connection=mempool</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">impl=localClient</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=abci-client</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">msg=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Starting localClient service</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">connection=consensus</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">impl=localClient</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=abci-client</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">msg=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Starting localClient service</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">impl=EventBus</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=events</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">msg=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Starting EventBus service</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">impl=PubSub</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=pubsub</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">msg=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Starting PubSub service</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Using</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">default</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mempool</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ttl</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">MempoolTTL=</span><span style="color:#F78C6C;">25</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=BlockManager</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">impl=IndexerService</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=txindex</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">msg=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Starting IndexerService service</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">impl=RPC</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">msg=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Starting RPC service</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">service</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">impl=Node</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=server</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">msg=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Starting Node service</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">starting</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">P2P</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">client</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=server</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">serving</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">HTTP</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">listen</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">address=</span><span style="color:#F78C6C;">127.0</span><span style="color:#C3E88D;">.0.1:26657</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=server</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">listening</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">address=/ip4/127.0.0.1/tcp/26656/p2p/12D3KooWSicdPmMTLf9fJbSSHZc9UVP1CbNqKPpbYVbgxHvbhAUY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=p2p</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">listening</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">on</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">address=/ip4/163.172.162.109/tcp/26656/p2p/12D3KooWSicdPmMTLf9fJbSSHZc9UVP1CbNqKPpbYVbgxHvbhAUY</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=p2p</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">no</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">seed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">nodes</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">only</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">listening</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">connections</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=p2p</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">working</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">in</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">aggregator</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mode</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">block</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">time=</span><span style="color:#F78C6C;">1000</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=server</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">Creating</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">and</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">publishing</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">block</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">height=</span><span style="color:#F78C6C;">22</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=BlockManager</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">starting</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gRPC</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">server...</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">address=</span><span style="color:#F78C6C;">127.0</span><span style="color:#C3E88D;">.0.1:9290</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=grpc-server</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">finalized</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">block</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">block_app_hash=</span><span style="color:#F78C6C;">235</span><span style="color:#C3E88D;">D3710D61F347DBBBDD6FD63AA7687842D1EF9CB475C712856D7DA32F82F09</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">height=</span><span style="color:#F78C6C;">22</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=BlockManager</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">num_txs_res=</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">num_val_updates=</span><span style="color:#F78C6C;">0</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">executed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">block</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">app_hash=</span><span style="color:#F78C6C;">235</span><span style="color:#C3E88D;">D3710D61F347DBBBDD6FD63AA7687842D1EF9CB475C712856D7DA32F82F09</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">height=</span><span style="color:#F78C6C;">22</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=BlockManager</span></span>
<span class="line"><span style="color:#FFCB6B;">12:21PM</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">INF</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">indexed</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">block</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">events</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">height=</span><span style="color:#F78C6C;">22</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">module=txindex</span></span>
<span class="line"><span style="color:#82AAFF;">...</span></span></code></pre></div><h2 id="ibc-to-celestia" tabindex="-1">‚ú® Connecting to Celestia Mocha testnet using IBC <a class="header-anchor" href="#ibc-to-celestia" aria-label="Permalink to &quot;‚ú® Connecting to Celestia Mocha testnet using IBC {#ibc-to-celestia}&quot;">‚Äã</a></h2><p>Next, we will establish an IBC connection with the Celestia Mocha testnet to enable TIA transfers for gas usage on our rollup.</p><p>Install the IBC relayer:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">clone</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--depth</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--branch</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">v2.5.2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">https://github.com/cosmos/relayer.git</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/tmp/relayer</span></span>
<span class="line"><span style="color:#82AAFF;">cd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/tmp/relayer</span></span>
<span class="line"><span style="color:#FFCB6B;">make</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">install</span></span></code></pre></div><p>Configure the relayer:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">config</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">init</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">mkdir</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-p</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$HOME</span><span style="color:#C3E88D;">/.relayer/keys/{gm,mocha-4}</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">echo</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">global:</span></span>
<span class="line"><span style="color:#C3E88D;">    api-listen-addr: :5183</span></span>
<span class="line"><span style="color:#C3E88D;">    timeout: 10s</span></span>
<span class="line"><span style="color:#C3E88D;">    memo: &#39;&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">    light-cache-size: 20</span></span>
<span class="line"><span style="color:#C3E88D;">    log-level: info</span></span>
<span class="line"><span style="color:#C3E88D;">    ics20-memo-limit: 0</span></span>
<span class="line"><span style="color:#C3E88D;">    max-receiver-size: 150</span></span>
<span class="line"><span style="color:#C3E88D;">chains:</span></span>
<span class="line"><span style="color:#C3E88D;">    gm_rollup:</span></span>
<span class="line"><span style="color:#C3E88D;">        type: cosmos</span></span>
<span class="line"><span style="color:#C3E88D;">        value:</span></span>
<span class="line"><span style="color:#C3E88D;">            key-directory: &#39;</span><span style="color:#A6ACCD;">$HOME</span><span style="color:#C3E88D;">/.relayer/keys/gm&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">            key: a</span></span>
<span class="line"><span style="color:#C3E88D;">            chain-id: gm</span></span>
<span class="line"><span style="color:#C3E88D;">            rpc-addr: http://localhost:26657</span></span>
<span class="line"><span style="color:#C3E88D;">            account-prefix: gm</span></span>
<span class="line"><span style="color:#C3E88D;">            keyring-backend: test</span></span>
<span class="line"><span style="color:#C3E88D;">            gas-adjustment: 1.5</span></span>
<span class="line"><span style="color:#C3E88D;">            gas-prices: 0.025stake</span></span>
<span class="line"><span style="color:#C3E88D;">            min-gas-amount: 0</span></span>
<span class="line"><span style="color:#C3E88D;">            max-gas-amount: 0</span></span>
<span class="line"><span style="color:#C3E88D;">            debug: false</span></span>
<span class="line"><span style="color:#C3E88D;">            timeout: 20s</span></span>
<span class="line"><span style="color:#C3E88D;">            block-timeout: &#39;&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">            output-format: json</span></span>
<span class="line"><span style="color:#C3E88D;">            sign-mode: direct</span></span>
<span class="line"><span style="color:#C3E88D;">            extra-codecs: []</span></span>
<span class="line"><span style="color:#C3E88D;">            coin-type: 118</span></span>
<span class="line"><span style="color:#C3E88D;">            signing-algorithm: &#39;&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">            broadcast-mode: batch</span></span>
<span class="line"><span style="color:#C3E88D;">            min-loop-duration: 0s</span></span>
<span class="line"><span style="color:#C3E88D;">            extension-options: []</span></span>
<span class="line"><span style="color:#C3E88D;">            feegrants: null</span></span>
<span class="line"><span style="color:#C3E88D;">    mocha:</span></span>
<span class="line"><span style="color:#C3E88D;">        type: cosmos</span></span>
<span class="line"><span style="color:#C3E88D;">        value:</span></span>
<span class="line"><span style="color:#C3E88D;">            key-directory: &#39;</span><span style="color:#A6ACCD;">$HOME</span><span style="color:#C3E88D;">/.relayer/keys/mocha-4&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">            key: a</span></span>
<span class="line"><span style="color:#C3E88D;">            chain-id: mocha-4</span></span>
<span class="line"><span style="color:#C3E88D;">            rpc-addr: https://celestia-testnet-rpc.publicnode.com:443</span></span>
<span class="line"><span style="color:#C3E88D;">            account-prefix: celestia</span></span>
<span class="line"><span style="color:#C3E88D;">            keyring-backend: test</span></span>
<span class="line"><span style="color:#C3E88D;">            gas-adjustment: 1.5</span></span>
<span class="line"><span style="color:#C3E88D;">            gas-prices: 0.15utia</span></span>
<span class="line"><span style="color:#C3E88D;">            min-gas-amount: 0</span></span>
<span class="line"><span style="color:#C3E88D;">            max-gas-amount: 0</span></span>
<span class="line"><span style="color:#C3E88D;">            debug: false</span></span>
<span class="line"><span style="color:#C3E88D;">            timeout: 20s</span></span>
<span class="line"><span style="color:#C3E88D;">            block-timeout: &#39;&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">            output-format: json</span></span>
<span class="line"><span style="color:#C3E88D;">            sign-mode: direct</span></span>
<span class="line"><span style="color:#C3E88D;">            extra-codecs: []</span></span>
<span class="line"><span style="color:#C3E88D;">            coin-type: 118</span></span>
<span class="line"><span style="color:#C3E88D;">            signing-algorithm: &#39;&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">            broadcast-mode: batch</span></span>
<span class="line"><span style="color:#C3E88D;">            min-loop-duration: 0s</span></span>
<span class="line"><span style="color:#C3E88D;">            extension-options: []</span></span>
<span class="line"><span style="color:#C3E88D;">            feegrants: null</span></span>
<span class="line"><span style="color:#C3E88D;">paths:</span></span>
<span class="line"><span style="color:#C3E88D;">    gm_mocha-4:</span></span>
<span class="line"><span style="color:#C3E88D;">        src:</span></span>
<span class="line"><span style="color:#C3E88D;">            chain-id: gm</span></span>
<span class="line"><span style="color:#C3E88D;">        dst:</span></span>
<span class="line"><span style="color:#C3E88D;">            chain-id: mocha-4</span></span>
<span class="line"><span style="color:#C3E88D;">        src-channel-filter:</span></span>
<span class="line"><span style="color:#C3E88D;">            rule: &#39;&#39;</span></span>
<span class="line"><span style="color:#C3E88D;">            channel-list: []</span></span>
<span class="line"><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$HOME</span><span style="color:#C3E88D;">/.relayer/config/config.yaml</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">keys</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restore</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm_rollup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">regret resist either bid upon yellow leaf early symbol win market vital</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">keys</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">restore</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mocha</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">regret resist either bid upon yellow leaf early symbol win market vital</span><span style="color:#89DDFF;">&quot;</span></span></code></pre></div><p>Get the relayer accounts:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">address</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm_rollup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># =&gt; gm1jqevcsld0dqpjp3csfg7alkv3lehvn8uswknrc</span></span>
<span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">address</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mocha</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># =&gt; celestia1jqevcsld0dqpjp3csfg7alkv3lehvn8u04ymsu</span></span></code></pre></div><p>Note: These accounts should always be the same because of the hardcoded mnemonics that we&#39;ve loaded in the <code>rly keys restore</code> step.</p><p>Fund the relayer on our rollup:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">gmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bank</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">send</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm-key-2</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm1jqevcsld0dqpjp3csfg7alkv3lehvn8uswknrc</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10000000</span><span style="color:#C3E88D;">stake</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--keyring-backend</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">test</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--chain-id</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--fees</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5000</span><span style="color:#C3E88D;">stake</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">-y</span></span></code></pre></div><p>Fund the relayer on the Celestia Mocha testnet:</p><p><a href="https://docs.celestia.org/nodes/mocha-testnet#mocha-testnet-faucet" target="_blank" rel="noreferrer">Mocha Testnet Faucet Instructions</a>.</p><p>Verify the relayer is funded:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">q</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">balance</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mocha</span><span style="color:#A6ACCD;">     </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># =&gt; address {celestia1jqevcsld0dqpjp3csfg7alkv3lehvn8u04ymsu} balance {10000000utia}</span></span>
<span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">q</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">balance</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm_rollup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">a</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># =&gt; address {gm1jqevcsld0dqpjp3csfg7alkv3lehvn8uswknrc} balance {10000000stake}</span></span></code></pre></div><p>Create IBC clients:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">client</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm_rollup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mocha</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm_mocha-4</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--override</span></span>
<span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">client</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mocha</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm_rollup</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm_mocha-4</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--override</span></span></code></pre></div><p>Create IBC connection:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">connection</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm_mocha-4</span></span></code></pre></div><p>Create IBC channel:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">channel</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm_mocha-4</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--src-port</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">transfer</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--dst-port</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">transfer</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--version</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">ics20-1</span></span></code></pre></div><p>Start the relayer:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">start</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm_mocha-4</span></span></code></pre></div><p>Transfer TIA from Mocha to our rollup:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ACCOUNT_ON_ROLLUP</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">gmd</span><span style="color:#C3E88D;"> keys show -a --keyring-backend test gm-key-2</span><span style="color:#89DDFF;">)&quot;</span></span>
<span class="line"><span style="color:#A6ACCD;">CHANNEL_ID_ON_MOCHA</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">rly</span><span style="color:#C3E88D;"> q channels mocha gm_rollup </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> </span><span style="color:#FFCB6B;">jq</span><span style="color:#C3E88D;"> -r .channel_id </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> </span><span style="color:#FFCB6B;">tail</span><span style="color:#C3E88D;"> -1</span><span style="color:#89DDFF;">)&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">rly</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tx</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">transfer</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">mocha</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm_rollup</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000000</span><span style="color:#C3E88D;">utia</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$ACCOUNT_ON_ROLLUP</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$CHANNEL_ID_ON_MOCHA</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--path</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">gm_mocha-4</span></span></code></pre></div><p>Verify the account on our rollup is funded with IBC TIA:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#FFCB6B;">gmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">q</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bank</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">balances</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">gmd</span><span style="color:#C3E88D;"> keys show -a --keyring-backend test gm-key-2</span><span style="color:#89DDFF;">)&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># =&gt;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># balances:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># - amount: &quot;1000000&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   denom: ibc/C3E53D20BC7A4CC993B17C7971F8ECD06A433C10B6A96F4C4C3714F0624C56DA</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># - amount: &quot;9999999999999999989995000&quot;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   denom: stake</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># pagination:</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">#   total: &quot;2&quot;</span></span></code></pre></div><h2 id="transactions" tabindex="-1">üí∏ Transactions <a class="header-anchor" href="#transactions" aria-label="Permalink to &quot;üí∏ Transactions {#transactions}&quot;">‚Äã</a></h2><p>Finally, send a transaction on our rollup using IBC TIA as the gas token:</p><div class="language-bash"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">ACCOUNT_ON_ROLLUP</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;$(</span><span style="color:#FFCB6B;">gmd</span><span style="color:#C3E88D;"> keys show -a --keyring-backend test gm-key-2</span><span style="color:#89DDFF;">)&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Send the transaction</span></span>
<span class="line"><span style="color:#A6ACCD;">TX_HASH</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">$(</span><span style="color:#FFCB6B;">gmd</span><span style="color:#C3E88D;"> tx bank send </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$ACCOUNT_ON_ROLLUP</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$ACCOUNT_ON_ROLLUP</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> </span><span style="color:#F78C6C;">1</span><span style="color:#C3E88D;">stake --keyring-backend test --chain-id gm --gas-prices </span><span style="color:#F78C6C;">0.02</span><span style="color:#C3E88D;">ibc/C3E53D20BC7A4CC993B17C7971F8ECD06A433C10B6A96F4C4C3714F0624C56DA -y --output json </span><span style="color:#89DDFF;">|</span><span style="color:#C3E88D;"> </span><span style="color:#FFCB6B;">jq</span><span style="color:#C3E88D;"> -r .txhash</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;"># Verify success</span></span>
<span class="line"><span style="color:#FFCB6B;">gmd</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">q</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">tx</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">$TX_HASH</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">--output</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">json</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">|</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">jq</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">.code</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;font-style:italic;"># =&gt; 0</span></span></code></pre></div><h2 id="üéâ-next-steps" tabindex="-1">üéâ Next steps <a class="header-anchor" href="#üéâ-next-steps" aria-label="Permalink to &quot;üéâ Next steps&quot;">‚Äã</a></h2><p>Congratulations! You&#39;ve built a local rollup that posts to a local DA network and uses TIA as the gas token!</p>`,47),$=JSON.parse('{"title":"How to use IBC token (TIA) as gas token in your rollup","description":"Build a sovereign rollup using Rollkit CLI and a local DA network, with TIA as the gas token.","frontmatter":{"description":"Build a sovereign rollup using Rollkit CLI and a local DA network, with TIA as the gas token.","head":[["meta",{"name":"og:title","content":"How to use IBC token (TIA) as gas token in your rollup | Rollkit"},{"name":"og:description","content":false}]]},"headers":[],"relativePath":"guides/use-tia-for-gas.md","filePath":"guides/use-tia-for-gas.md","lastUpdated":1717609763000}'),O={name:"guides/use-tia-for-gas.md"},Y=Object.assign(O,{setup(H){return(j,L)=>(t(),c("div",null,[C,s("div",y,[D,r(e)]),i,A,s("ul",null,[s("li",null,[d,s("div",u,[E,h,s("pre",F,[s("code",null,[s("span",g,[m,s("span",b,p(o(l).golangVersion),1)])])])])])]),s("ul",null,[s("li",null,[B,a(": Download and execute the "),s("a",{href:`https://go.dev/dl/go${o(l).golangVersion}.windows-amd64.msi`},"installer",8,_),a(".")])]),k,v,f,s("div",q,[I,T,s("pre",P,[s("code",null,[s("span",w,[N,s("span",x,p(o(l).localDALatestTag),1),S])])])]),M]))}});export{$ as __pageData,Y as default};
