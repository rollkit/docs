import{_ as s,c as a,a3 as e,o as t}from"./chunks/framework.CGQ59HuL.js";const g=JSON.parse('{"title":"How to create a genesis for your chain","description":"","frontmatter":{"head":[["meta",{"name":"og:title","content":"How to create a genesis for your chain | Rollkit"},{"name":"og:description","content":false}]]},"headers":[],"relativePath":"guides/create-genesis.md","filePath":"guides/create-genesis.md","lastUpdated":1752852532000}'),n={name:"guides/create-genesis.md"};function h(l,i,p,k,r,d){return t(),a("div",null,i[0]||(i[0]=[e(`<h1 id="how-to-create-a-genesis-for-your-chain" tabindex="-1">How to create a genesis for your chain <a class="header-anchor" href="#how-to-create-a-genesis-for-your-chain" aria-label="Permalink to &quot;How to create a genesis for your chain&quot;">​</a></h1><p>This guide will walk you through the process of setting up a genesis for your chain. Follow the steps below to initialize your chain, add a genesis account, and start the chain.</p><h2 id="pre-requisities" tabindex="-1">Pre-requisities <a class="header-anchor" href="#pre-requisities" aria-label="Permalink to &quot;Pre-requisities&quot;">​</a></h2><p>For this guide you need to have a chain directory where you have created and built your chain.</p><p>If you don&#39;t have a chain directory yet, you can initialize a simple ignite chain by following <a href="/guides/gm-world">this tutorial</a></p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>This guide will use the simple ignite chain created in linked guide. Make sure to update any relevant variables to match your chain.</p></div><h2 id="_1-setting-variables" tabindex="-1">1. Setting variables <a class="header-anchor" href="#_1-setting-variables" aria-label="Permalink to &quot;1. Setting variables&quot;">​</a></h2><p>First, set the necessary variables for your chain in the terminal, here is an example:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">VALIDATOR_NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">validator1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CHAIN_ID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gm</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">KEY_NAME</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">chain-key</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CHAINFLAG</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;--chain-id \${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">CHAIN_ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">TOKEN_AMOUNT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10000000000000000000000000stake&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">STAKING_AMOUNT</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;1000000000stake&quot;</span></span></code></pre></div><h2 id="rebuild-your-chain" tabindex="-1">Rebuild your chain <a class="header-anchor" href="#rebuild-your-chain" aria-label="Permalink to &quot;Rebuild your chain&quot;">​</a></h2><p>Ensure that <code>.gm</code> folder is present at <code>/Users/you/.gm</code> (if not, follow a <a href="/guides/gm-world">Guide</a> to set it up) and run the following command to (re)generate an entrypoint binary out of the code:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">make</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div><p>Once completed, run the following command to ensure that the <code>/Users/you/.gm</code> directory is present:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ignite</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rollkit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre></div><p>This (re)creates an <code>gmd</code> binary that will be used for the rest of the tutorials to run all the operations on the chain.</p><h2 id="resetting-existing-genesis-chain-data" tabindex="-1">Resetting existing genesis/chain data <a class="header-anchor" href="#resetting-existing-genesis-chain-data" aria-label="Permalink to &quot;Resetting existing genesis/chain data&quot;">​</a></h2><p>Reset any existing chain data:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gmd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> comet</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unsafe-reset-all</span></span></code></pre></div><p>Reset any existing genesis data:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -rf</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$CHAIN_ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/config/gentx</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">rm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $HOME</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$CHAIN_ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/config/genesis.json</span></span></code></pre></div><h2 id="initializing-the-validator" tabindex="-1">Initializing the validator <a class="header-anchor" href="#initializing-the-validator" aria-label="Permalink to &quot;Initializing the validator&quot;">​</a></h2><p>Initialize the validator with the chain ID you set:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gmd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $VALIDATOR_NAME </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--chain-id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $CHAIN_ID</span></span></code></pre></div><h2 id="adding-a-key-to-keyring-backend" tabindex="-1">Adding a key to keyring backend <a class="header-anchor" href="#adding-a-key-to-keyring-backend" aria-label="Permalink to &quot;Adding a key to keyring backend&quot;">​</a></h2><p>Add a key to the keyring-backend:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gmd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> keys</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $KEY_NAME </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--keyring-backend</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span></code></pre></div><h2 id="adding-a-genesis-account" tabindex="-1">Adding a genesis account <a class="header-anchor" href="#adding-a-genesis-account" aria-label="Permalink to &quot;Adding a genesis account&quot;">​</a></h2><p>Add a genesis account with the specified token amount:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gmd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> genesis</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add-genesis-account</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $KEY_NAME $TOKEN_AMOUNT </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--keyring-backend</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span></code></pre></div><h2 id="setting-the-staking-amount-in-the-genesis-transaction" tabindex="-1">Setting the staking amount in the genesis transaction <a class="header-anchor" href="#setting-the-staking-amount-in-the-genesis-transaction" aria-label="Permalink to &quot;Setting the staking amount in the genesis transaction&quot;">​</a></h2><p>Set the staking amount in the genesis transaction:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gmd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> genesis</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gentx</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $KEY_NAME $STAKING_AMOUNT </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--chain-id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $CHAIN_ID </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">--keyring-backend</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span></span></code></pre></div><h2 id="collecting-genesis-transactions" tabindex="-1">Collecting genesis transactions <a class="header-anchor" href="#collecting-genesis-transactions" aria-label="Permalink to &quot;Collecting genesis transactions&quot;">​</a></h2><p>Collect the genesis transactions:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gmd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> genesis</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> collect-gentxs</span></span></code></pre></div><h2 id="configuring-the-genesis-file" tabindex="-1">Configuring the genesis file <a class="header-anchor" href="#configuring-the-genesis-file" aria-label="Permalink to &quot;Configuring the genesis file&quot;">​</a></h2><p>Copy the centralized sequencer address into <code>genesis.json</code>:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ADDRESS</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.address&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$CHAIN_ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/config/priv_validator_key.json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">PUB_KEY</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.pub_key&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$CHAIN_ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/config/priv_validator_key.json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">jq</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --argjson</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pubKey</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$PUB_KEY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;.consensus[&quot;validators&quot;]=[{&quot;address&quot;: &quot;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$ADDRESS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&quot;, &quot;pub_key&quot;: $pubKey, &quot;power&quot;: &quot;1000&quot;, &quot;name&quot;: &quot;Rollkit Sequencer&quot;}]&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$CHAIN_ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/config/genesis.json</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> temp.json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mv</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> temp.json</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$CHAIN_ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/config/genesis.json</span></span></code></pre></div><h2 id="starting-the-chain" tabindex="-1">Starting the chain <a class="header-anchor" href="#starting-the-chain" aria-label="Permalink to &quot;Starting the chain&quot;">​</a></h2><p>Finally, start the chain with your start command.</p><p>For example, start the simple ignite chain with the following command:</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">gmd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> start</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --rollkit.node.aggregator</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --chain_id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $CHAIN_ID</span></span></code></pre></div><h2 id="summary" tabindex="-1">Summary <a class="header-anchor" href="#summary" aria-label="Permalink to &quot;Summary&quot;">​</a></h2><p>By following these steps, you will set up the genesis for your chain, initialize the validator, add a genesis account, and started the chain. This guide provides a basic framework for configuring and starting your chain using the gm-world binary. Make sure you initialized your chain correctly, and use the <code>gmd</code> command for all operations.</p>`,44)]))}const c=s(n,[["render",h]]);export{g as __pageData,c as default};
